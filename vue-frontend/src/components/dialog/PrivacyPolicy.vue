<template>
  <v-dialog v-model="showDialog" width="80%" persistent scrollable>
    <v-card>
      <v-card-title class="headline primary white--text px-4">
        Privacy Policy / Datenschutzerklärung
      </v-card-title>
      <v-divider></v-divider>
      <v-card-text class="px-0">
        <v-card-title class="pb-0">
          Datenschutz, Informationen gemäß Art. 13 DSGVO
        </v-card-title>
        <v-card-text>
          Standardmäßig erfasse ich auf dieser Homepage keinerlei
          personenbezogene Daten.
        </v-card-text>
        <v-card-title class="pb-0">
          Verarbeitung der IP-Adresse
        </v-card-title>
        <v-card-text>
          Zweck der Verarbeitung der IP-Adresse ist die Bereitstellung des
          Webangebots. Rechtsgrundlage für die Verarbeitung sind die
          Vorschriften der DSGVO zu Aufgaben und Befugnissen der
          Aufsichtsbehörden in Art. 57 und 58 i.V.m. Art. 6 Abs. 1 Buchstabe e
          DSGVO. Ich verwende keine Cookies oder andere Tracking-Methoden um die
          Nutzung dieser Homepage auszuwerten. Mein Provider speichert
          IP-Adressen in Logdateien zur Erkennung und Abwehr von Angriffen und
          löscht sie nach 7 Tagen wieder (Quelle: Strato).
        </v-card-text>
        <v-card-title class="pb-0">
          Essenzielle Cookies
        </v-card-title>
        <v-card-text>
          Grundlegend verwendet jede Website Session-Cookies. Session-Cookies
          speichern den Internetaufruf temporär und werden mit dem Schließen des
          Browsers gelöscht. Diese Art von Cookies speichert keine Information
          über den Benutzer (Quelle: Strato).
        </v-card-text>
        <v-divider></v-divider>
        <v-card-title class="pb-0">
          Google Analytics
        </v-card-title>
        <v-card-text>
          Soweit Sie Ihre Einwilligung erklärt haben, wird auf dieser Website
          Google Analytics eingesetzt, ein Webanalysedienst der Google LLC.
          Zuständiger Dienstanbieter in der EU ist die Google Ireland Limited,
          Gordon House, Barrow Street, Dublin 4, Irland („Google“).
        </v-card-text>
        <v-card-title class="pb-0">
          Umfang der Verarbeitung mit Google Analytics
        </v-card-title>
        <v-card-text>
          Google Analytics verwendet Cookies, die eine Analyse der Benutzung
          unserer Webseiten durch Sie ermöglichen. Die mittels der Cookies
          erhobenen Informationen über Ihre Benutzung dieser Website werden in
          der Regel an einen Server von Google in den USA übertragen und dort
          gespeichert.<br /><br />
          Während Ihres Website-Besuchs werden u.a. folgende Daten erfasst:
          <ul>
            <li>die von Ihnen aufgerufenen Seiten, Ihr „Klickpfad“</li>

            <li>
              Erreichung von „Website-Zielen“ (Conversions, z.B.
              Newsletter-Anmeldungen, Downloads, Käufe)
            </li>
            <li>
              Ihr Nutzerverhalten (beispielsweise Klicks, Verweildauer,
              Absprungraten)
            </li>
            <li>Ihr ungefährer Standort (Region)</li>
            <li>Ihre IP-Adresse</li>
            <li>
              technische Informationen zu Ihrem Browser und den von Ihnen
              genutzten Endgeräten (z.B. Spracheinstellung, Bildschirmauflösung)
            </li>
            <li>Ihr Internetanbieter</li>
            <li>
              die Referrer-URL (über welche Website/ über welches Werbemittel
              Sie auf diese Website gekommen sind)
            </li>
          </ul>
        </v-card-text>
        <v-card-title class="pb-0">
          Zwecke der Verarbeitung mit Google Analytics
        </v-card-title>
        <v-card-text>
          Im Auftrag des Betreibers dieser Website wird Google diese
          Informationen benutzen, um Ihre Nutzung der Website auszuwerten und um
          Reports über die Website-Aktivitäten zusammenzustellen. Die durch
          Google Analytics bereitgestellten Reports dienen der Analyse der
          Leistung der Website.
        </v-card-text>
        <v-card-title class="pb-0">
          Empfänger
        </v-card-title>
        <v-card-text>
          Empfänger der Daten ist<br />
          <ul>
            <li>
              Google Ireland Limited, Gordon House, Barrow Street, Dublin 4,
              Irland
            </li>
          </ul>
          als Auftragsverarbeiter. Hierfür haben wir mit Google einen
          Auftragsverarbeitungsvertrag abgeschlossen. Die Google LLC mit Sitz in
          Kalifornien, USA, und ggf. US-amerikanische Behörden können auf die
          bei Google gespeicherten Daten zugreifen.
        </v-card-text>
        <v-card-title class="pb-0">
          Übermittlung in Drittstaaten durch Google Analytics
        </v-card-title>
        <v-card-text>
          Eine Übermittlung von Daten in die USA kann nicht ausgeschlossen
          werden.
        </v-card-text>
        <v-card-title class="pb-0">
          Speicherdauer
        </v-card-title>
        <v-card-text>
          Die von uns gesendeten und mit Cookies verknüpften Daten werden nach
          14 Monaten automatisch gelöscht. Die Löschung von Daten, deren
          Aufbewahrungsdauer erreicht ist, erfolgt automatisch einmal im Monat.
          <br /><br />
          Sie können darüber hinaus die Erfassung der durch das Cookie erzeugten
          und auf Ihre Nutzung der Website bezogenen Daten (inkl. Ihrer
          IP-Adresse) an Google sowie die Verarbeitung dieser Daten durch Google
          verhindern, indem Sie a. Ihre Einwilligung in das Setzen des Cookies
          nicht erteilen oder b. das Browser-Add-on zur Deaktivierung von Google
          Analytics
          <a href="https://tools.google.com/dlpage/gaoptout?hl=de">HIER</a>
          herunterladen und installieren.
          <br /><br />
          Sie können die Speicherung von Cookies auch durch eine entsprechende
          Einstellung Ihrer Browser-Software verhindern. Wenn Sie Ihren Browser
          so konfigurieren, dass alle Cookies abgelehnt werden, kann es jedoch
          zu Einschränkung von Funktionalitäten auf dieser und anderen Websites
          kommen.
        </v-card-text>
        <v-card-title class="pb-0">
          Rechtsgrundlage und Widerrufsmöglichkeit
        </v-card-title>
        <v-card-text>
          für diese Datenverarbeitung ist Ihre Einwilligung,
          <a href="https://dsgvo-gesetz.de/art-6-dsgvo/">
            Art.6 Abs.1 S.1 lit.a DSGVO
          </a>
          . Sie können Ihre Einwilligung jederzeit mit Wirkung für die Zukunft
          widerrufen, indem Sie hier in den Cookie-Einstellungen Ihre Auswahl
          ändern.<br /><br />
          Nähere Informationen zu Nutzungsbedingungen von Google Analytics und
          zum Datenschutz bei Google finden Sie unter:
          <a
            href="https://marketingplatform.google.com/about/analytics/terms/de/"
          >
            https://marketingplatform.google.com/about/analytics/terms/de/
          </a>
          und unter
          <a href="https://policies.google.com/?hl=de">
            https://policies.google.com/?hl=de
          </a>
        </v-card-text>
      </v-card-text>
      <v-divider></v-divider>
      <v-row class="my-0 mx-0">
        <v-card-title class="pb-0">
          Einstellungen
        </v-card-title>
        <v-card-text>
          <v-switch
            v-model="essential"
            inset
            label="Essenzielle Cookies zur Bereitstellung des Webangebots akzeptieren (immer benötigt)"
            color="primary"
            :readonly="readonly"
            hide-details
          ></v-switch>
          <v-switch
            v-model="googleAnalytics"
            inset
            label="Google Analytics"
            color="primary"
            :readonly="readonly"
            hide-details
          ></v-switch>
        </v-card-text>
      </v-row>
      <v-card-actions>
        <v-spacer></v-spacer>
        <v-btn
          v-if="readonly"
          color="secondary lighten-3"
          @click="readonly = false"
          text
        >
          Edit Settings
        </v-btn>
        <v-btn
          v-if="!readonly"
          color="secondary lighten-3"
          @click="saveSelected"
          :disabled="!essential"
          text
        >
          Save Selected
        </v-btn>
        <v-btn color="primary" @click="acceptAll">
          Accept All
        </v-btn>
      </v-card-actions>
    </v-card>
  </v-dialog>
</template>
<script>
export default {
  name: "Policy",
  data() {
    return {
      readonly: true,
      essential: this.$store.state.dsgvo.essential,
      googleAnalytics: this.$store.state.dsgvo.googleAnalytics,
      dialog: false,
    };
  },
  computed: {
    showDialog: {
      // invert value of accepted to open dialog
      get: function() {
        return !this.$store.state.dsgvo.accepted;
      },
      set: function(value) {
        this.$store.commit("dsgvo/accept", !value);
      },
    },
  },
  methods: {
    acceptAll() {
      this.$store.commit("dsgvo/setEssential", true);
      this.$store.commit("dsgvo/setGoogleAnalytics", true);
      this.$store.commit("dsgvo/accept", true);
    },
    saveSelected() {
      this.$store.commit("dsgvo/setEssential", this.essential);
      this.$store.commit("dsgvo/setGoogleAnalytics", this.googleAnalytics);
      this.$store.commit("dsgvo/accept", true);
    },
  },
};
</script>
